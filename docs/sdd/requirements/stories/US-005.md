# US-005: 音声認識モデルの設定

## ユーザーストーリー

**私は** macOSユーザーとして
**〜したい** 音声認識モデルのサイズをマシンスペックに応じて変更したい
**なぜなら** メモリに余裕がない場合は軽量モデルを、精度を重視する場合は大型モデルを使いたいから

## 受入基準（EARS記法）

### 機能要件

- **REQ-018**: 設定画面において、システムは以下の音声認識モデルから選択できなければならない: small（約1GB）、medium（約2GB）、large-v3（約4GB）、large-v3-ja（Kotoba Whisper、約4GB、初期値）
- **REQ-019**: ユーザーがモデルを変更した時、システムはモデルを再読み込みしなければならない
- **REQ-020**: もし選択されたモデルがローカルにキャッシュされていない場合、システムはダウンロード進捗を通知で表示しなければならない

## 画面/UI要件

- 設定ダイアログ内にモデル選択ドロップダウンを配置
- 各モデルの名前と目安メモリ使用量を表示
- ダウンロード中はプログレス通知を表示

## データ要件

- 設定ファイルパス: `~/.config/speakdrop/config.json`
- 設定項目（モデル関連）:
  - `model_size`: モデル識別子（例: `"large-v3-ja"`）
- モデル選択肢:
  | モデル識別子 | 表示名 | 目安サイズ | デフォルト |
  |------------|--------|----------|-----------|
  | `small` | small | 約1GB | - |
  | `medium` | medium | 約2GB | - |
  | `large-v3` | large-v3 | 約4GB | - |
  | `large-v3-ja` | large-v3-ja (Kotoba Whisper) | 約4GB | はい |

## 関連ストーリー

- [US-003](US-003.md) @US-003.md: メニューバー常駐と設定（設定画面の入口）
- [US-004](US-004.md) @US-004.md: ホットキーの設定（同一設定ファイルを共有）
- [US-002](US-002.md) @US-002.md: テキスト後処理（音声認識の後続処理）

## 備考

- Kotoba Whisperモデル（kotoba-tech/kotoba-whisper-v1.0）が日本語認識精度の点でデフォルト
- モデルキャッシュはfaster-whisperのデフォルトキャッシュディレクトリを使用
- モデル変更はアプリ再起動なしで反映する（再読み込み方式）
