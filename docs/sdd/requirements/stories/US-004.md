# US-004: ホットキーの設定

## ユーザーストーリー

**私は** macOSユーザーとして
**〜したい** プッシュトークのホットキーを自分の好みのキーに変更したい
**なぜなら** 既存のキーバインドとの競合を避け、使いやすいキーを選びたいから

## 受入基準（EARS記法）

### 機能要件

- **REQ-014**: 設定画面において、システムはプッシュトークキーの変更機能を提供しなければならない
- **REQ-015**: ユーザーがホットキー変更ボタンを押した時、システムは次のキー押下をキャプチャし、新しいプッシュトークキーとして登録しなければならない
- **REQ-016**: 設定変更時、システムは設定をJSONファイル（~/.config/speakdrop/config.json）に永続化しなければならない
- **REQ-017**: システム起動時、もし設定ファイルが存在するならば、システムは保存された設定を読み込まなければならない

## 画面/UI要件

- 設定ダイアログ内にホットキー変更ボタンを配置
- ボタン押下後、キャプチャ待ち状態を視覚的に表示（例: 「キーを押してください...」）
- 設定後、現在のホットキーをラベルとして表示

## データ要件

- 設定ファイルパス: `~/.config/speakdrop/config.json`
- 設定項目（ホットキー関連）:
  - `hotkey_key`: キー識別子（例: `"right_option"`）

## 関連ストーリー

- [US-003](US-003.md) @US-003.md: メニューバー常駐と設定（設定画面の入口）
- [US-005](US-005.md) @US-005.md: 音声認識モデルの設定（同一設定ファイルを共有）

## 備考

- デフォルトホットキー: 右Optionキー
- 設定ファイルが存在しない場合はデフォルト値を使用する
- キャプチャ中は音声録音のホットキー監視を一時停止する
