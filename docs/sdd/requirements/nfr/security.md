# セキュリティ・プライバシー要件

> 非機能要件カテゴリ: セキュリティ・プライバシー

## 概要

SpeakDropはユーザーの音声データという高度にプライベートな情報を扱うため、すべての処理を完全にローカル環境内で完結させることを最優先とする。外部サーバーへのデータ送信を一切行わず、録音データの永続化も禁止する。

## 要件一覧

### NFR-005: ローカル処理の徹底

**EARS記法**: システムはすべての音声データと認識テキストをローカル環境内でのみ処理し、外部サーバーへの送信を一切行ってはならない

**測定基準**:
- 指標: ネットワーク通信の有無
- 目標値: 音声データ・認識テキストに関する外部通信ゼロ
- 測定方法: ネットワークモニタリングツール（Little Snitch等）での通信確認

**対象範囲**:
- 音声録音データ
- faster-whisperによる認識テキスト
- Ollama後処理テキスト（Ollamaはローカル稼働が前提）

**関連する機能要件**: REQ-001, REQ-002, REQ-005, REQ-007, REQ-008

**優先度**: 高

**検証方法**:
- [ ] アプリ動作中にネットワークキャプチャを行い、音声・テキストデータの外部送信がないことを確認
- [ ] コードレビューで外部API呼び出しがないことを確認
- [ ] Ollama APIのエンドポイントがlocalhostであることを確認

---

### NFR-006: 録音データの非永続化

**EARS記法**: 録音された音声データは認識完了後にメモリから破棄しなければならない

**測定基準**:
- 指標: 音声データのファイル書き込みの有無、メモリ解放の確認
- 目標値: 音声ファイルの永続化ゼロ、認識完了後のメモリ解放
- 測定方法: ファイルシステム監視およびメモリプロファイリング

**関連する機能要件**: REQ-002

**優先度**: 高

**検証方法**:
- [ ] 認識完了後にディスクへの音声ファイル書き込みがないことを確認
- [ ] メモリプロファイリングで録音バッファが解放されることを確認
- [ ] コードレビューで音声データの永続化処理がないことを確認
